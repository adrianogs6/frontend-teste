<!-- marcação -->
<script src="jquery/jquery.js"></script>

<div tabindex="-1" role="dialog" aria-hidden="true" align="center">
  <div>
    <p>Escolha o cenário</p>
    <select class="form-select-cenario" aria-label="Default select example">
      <option selected>Selecione</option>
      <option value="Budget">Budget</option>
      <option value="Adequate">Adequate</option>
    </select>
  </div>
  <div>
    <p>Escolha a cobertura</p>
    <select class="form-select-cobertura" aria-label="Default select example">
      <option selected>Selecione</option>
      <option value="Function">Function</option>
      <option value="Line">Line</option>
      <option value="Branch">Branch</option>
    </select>
  </div>
  <div>
    <p>Escolha o projeto e versão</p>
    <select class="form-select-projeto" aria-label="Default select example">
      <option selected>Selecione</option>
      <option value="Flex v3">Flex v3</option>
      <option value="Grep v3">Grep v3</option>
      <option value="Gzip v1">Gzip v1</option>
      <option value="Make v1">Make v1</option>
      <option value="Sed v6">Sed v6</option>
      <option value="Chart v0">Chart v0</option>
      <option value="Closure v0">Closure v0</option>
      <option value="Lang v0">Lang v0</option>
      <option value="Math v0">Math v0</option>
      <option value="Time v0">Time v0</option>
    </select>
  </div>
  <div>
    <button type="button" class="btn btn-primary" onclick="organizarDados()">
      Executar Teste
    </button>
  </div>
</div>

<!-- função js -->
<script type="text/javascript">
  function organizarDados() {
    var inputCenario;
    var entradaCenario = $(".form-select-cenario").val();
    if (entradaCenario == "Budget") {
      inputCenario = "experimentBudget.py";
    } else {
      inputCenario = "experimentAdequate.py";
    }
    var inputCobertura = $(".form-select-cobertura").val();
    var inputProjeto = $(".form-select-projeto").val();

    var objeto = {
      cenario: inputCenario,
      cobertura: inputCobertura,
      projeto: inputProjeto,
    };
    EnviarDados(objeto);
  }

  function EnviarDados(objeto) {
    $.ajax({
      method: "POST",
      url: "http://127.0.0.1:5000/executaFastR",
      contentType: "application/json",
      data: JSON.stringify(objeto),
      dataType: "json",
      success: function (data) {
        console.log(data);
      },
    });
  }
</script>
